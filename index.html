<!DOCTYPE html>
<html>
<head><title>LEGACY SYSTEM CHECK</title></head>
<body style="background:#000; color:#0f0; font-family:monospace; padding:20px;">
    <h2>LEGACY DIAGNOSTIC 6.0</h2>
    <div id="out">> Initializing...</div>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.0.0"></script>

    <script>
        const log = (m, c="#0f0") => document.getElementById('out').innerHTML += `<div style="color:${c}">> ${m}</div>`;
        
        async function run() {
            // 1. USE THE URL FROM image_ae81ff.png
            const URL = "https://qkxbwxhvlcztjtnonjm.supabase.co";
            
            // 2. PASTE THE ENTIRE LONG 'anon public' KEY FROM image_ae0e5b.png HERE
            const KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFreGJ3eGh2bGN6dGx6anRub2ptIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg5MTA1NTYsImV4cCI6MjA4NDQ4NjU1Nn0.aoh-EdwTv42XhtIOHKveWtBMRHe25rYTk3UYguCOjh4"; 

            try {
                const sb = window.supabase.createClient(URL, KEY);
                log("Client Created.");

                log("Pinging 'leaderboard' table...");
                // We use a simple select to verify the connection
                const { data, error } = await sb.from('leaderboard').select('*').limit(1);

                if (error) {
                    log("DATABASE ERROR: " + error.message, "#f59e0b");
                    console.log(error);
                } else {
                    log("SUCCESS! Connection is fully open.", "#0f0");
                    log("Table is reachable.");
                }
            } catch (err) {
                log("FETCH ERROR: " + err.message, "#f00");
                log("Try opening this in an Incognito window to bypass browser cache.", "#fff");
            }
        }
        window.onload = run;
    </script>
</body>
</html>
